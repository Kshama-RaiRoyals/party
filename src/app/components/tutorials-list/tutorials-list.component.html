<app-header></app-header>
<div class="container">
 
  <div class="card">
  <div class="d-flex justify-content-between">
    <h4 class="mt-3">Party Management</h4>
  <button class="btn btn-primary mb-3 mt-3" routerLink="/add">Add Item</button>
</div>
  <div class="table-responsive " style="width: 100% !important; overflow: auto;">
    <table mat-table [dataSource]="items" style="width: 100%;">

      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">ID</th>
        <td mat-cell *matCellDef="let item"> {{item.id}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Name</th>
        <td mat-cell *matCellDef="let item"> {{item.name}} </td>
      </ng-container>

      <!-- Company Name Column -->
      <ng-container matColumnDef="company_name">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Company Name</th>
        <td mat-cell *matCellDef="let item"> {{item.company_name}} </td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Email</th>
        <td mat-cell *matCellDef="let item"> {{item.email}} </td>
      </ng-container>

      <!-- Mobile Number Column -->
      <ng-container matColumnDef="mobile_no">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Mobile Number</th>
        <td mat-cell *matCellDef="let item"> {{item.mobile_no}} </td>
      </ng-container>

      <!-- Telephone Number Column -->
      <ng-container matColumnDef="telephone_no">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Telephone Number</th>
        <td mat-cell *matCellDef="let item"> {{item.telephone_no}} </td>
      </ng-container>

      <!-- Whatsapp Number Column -->
      <ng-container matColumnDef="whatsapp_no">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Whatsapp Number</th>
        <td mat-cell *matCellDef="let item"> {{item.whatsapp_no}} </td>
      </ng-container>

      <!-- GSTIN Column -->
      <ng-container matColumnDef="gstin">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">GSTIN</th>
        <td mat-cell *matCellDef="let item"> {{item.gstin}} </td>
      </ng-container>

      <!-- PAN Number Column -->
      <ng-container matColumnDef="pan_no">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">PAN Number</th>
        <td mat-cell *matCellDef="let item"> {{item.pan_no}} </td>
      </ng-container>

      <!-- Credit Limit Column -->
      <ng-container matColumnDef="credit_limit">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Credit Limit</th>
        <td mat-cell *matCellDef="let item"> {{item.credit_limit}} </td>
      </ng-container>

      <!-- Apply TDS Column -->
      <ng-container matColumnDef="apply_tds">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Apply TDS</th>
        <td mat-cell *matCellDef="let item"> {{item.apply_tds}} </td>
      </ng-container>

      <!-- Date of Birth Column -->
      <ng-container matColumnDef="date_of_birth">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Date of Birth</th>
        <td mat-cell *matCellDef="let item"> {{item.date_of_birth}} </td>
      </ng-container>

      <!-- Anniversary Date Column -->
      <ng-container matColumnDef="anniversary_date">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Anniversary Date</th>
        <td mat-cell *matCellDef="let item"> {{item.anniversary_date}} </td>
      </ng-container>

      <!-- Is Active Column -->
      <ng-container matColumnDef="is_active">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Is Active</th>
        <td mat-cell *matCellDef="let item"> {{item.is_active}} </td>
      </ng-container>

      <!-- Login Access Column -->
      <ng-container matColumnDef="login_access">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Login Access</th>
        <td mat-cell *matCellDef="let item"> {{item.login_access}} </td>
      </ng-container>

      <!-- Remark Column -->
      <ng-container matColumnDef="remark">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Remark</th>
        <td mat-cell *matCellDef="let item"> {{item.remark}} </td>
      </ng-container>

      <!-- Image Column -->
      <ng-container matColumnDef="image">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Image</th>
        <td mat-cell *matCellDef="let item"> <img [src]="item.image" *ngIf="item.image" class="img-thumbnail" alt="Image"> </td>
      </ng-container>

      <!-- Address Column -->
      <ng-container matColumnDef="address">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Address</th>
        <td mat-cell *matCellDef="let item">
          <div *ngFor="let addr of item.address">
            {{addr.street}}, {{addr.city}}, {{addr.state}}, {{addr.country}}, {{addr.zip}}
          </div>
        </td>
      </ng-container>

      <!-- Bank ID Column -->
      <ng-container matColumnDef="bank_id">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Bank Details</th>
        <td mat-cell *matCellDef="let item">
          <div *ngFor="let bank of item.bank_id">
            {{bank.bank_name}}, {{bank.account_number}}, {{bank.ifsc_code}}
          </div>
        </td>
      </ng-container>

      <!-- User ID Column -->
      <ng-container matColumnDef="userid">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">User ID</th>
        <td mat-cell *matCellDef="let item">
          {{item.userid.username}} ({{item.userid.id}})
        </td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="no-wrap-text">Actions</th>
        <td mat-cell *matCellDef="let item" class="no-wrap-text">
          <button mat-icon-button class="mx-2 edit" [routerLink]="['/edit',item.id]">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button class="delete" (click)="deleteItem(item.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
</div>
